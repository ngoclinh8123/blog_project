import{r,K as Pe,e as je,v as Rt,y as Pt,R as W,D as fn,z as hn,B as mn,E as kt,p as $t,o as _t,i as Mt,m as xt,l as gn,t as Tt,F as pn,q as Ht,G as $e,H as vn,c as Me,d as Vt,I as yn,b as Ft,g as we,J as ht,f as bn,u as Nt,_ as Cn,M as Sn,S as xn,N as wn,O as En,s as Ot,P as In,A as kn,x as $n,Q as _n,j as J,a as ct,U as _e,V as et,W as Tn}from"./index-2e9a0365.js";import{u as jt,I as zt,S as Nn,F as Wt,g as Bt,a as Ut,b as tt}from"./index-b8c633f2.js";import{D as ut,C as Xt,P as On,a as Gt,u as Ln,T as Dn,c as Kn,b as yt,d as An,B as Rn,g as Pn,e as Mn,f as Hn,h as Vn,r as Fn,i as jn,E as zn,j as Wn,M as Bn}from"./EditOutlined-fc8c0ae3.js";import{E as Un}from"./EyeOutlined-23457990.js";import"./index-38bdd5da.js";import"./useBreakpoint-8fda81fb.js";const ft=e=>{const t=new Map;return e.forEach((a,n)=>{t.set(a,n)}),t},Xn=e=>{const t=new Map;return e.forEach((a,n)=>{let{disabled:l,key:d}=a;l&&t.set(d,n)}),t};var Gn=globalThis&&globalThis.__rest||function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]]);return a};const qn={border:0,background:"transparent",padding:0,lineHeight:"inherit",display:"inline-block"},Yn=r.forwardRef((e,t)=>{const a=u=>{const{keyCode:h}=u;h===Pe.ENTER&&u.preventDefault()},n=u=>{const{keyCode:h}=u,{onClick:y}=e;h===Pe.ENTER&&y&&y()},{style:l,noStyle:d,disabled:s}=e,c=Gn(e,["style","noStyle","disabled"]);let i={};return d||(i=Object.assign({},qn)),s&&(i.pointerEvents="none"),i=Object.assign(Object.assign({},i),l),r.createElement("div",Object.assign({role:"button",tabIndex:0,ref:t},c,{onKeyDown:a,onKeyUp:n,style:i}))}),Jn=Yn,Qn=e=>{const{renderedText:t,renderedEl:a,item:n,checked:l,disabled:d,prefixCls:s,onClick:c,onRemove:i,showRemove:u}=e,h=je({[`${s}-content-item`]:!0,[`${s}-content-item-disabled`]:d||n.disabled,[`${s}-content-item-checked`]:l});let y;(typeof t=="string"||typeof t=="number")&&(y=String(t));const[b]=jt("Transfer",Rt.Transfer),E={className:h,title:y},L=r.createElement("span",{className:`${s}-content-item-text`},a);return u?r.createElement("li",Object.assign({},E),L,r.createElement(Jn,{disabled:d||n.disabled,className:`${s}-content-item-remove`,"aria-label":b==null?void 0:b.remove,onClick:()=>{i==null||i(n)}},r.createElement(ut,null))):(E.onClick=d||n.disabled?void 0:()=>c(n),r.createElement("li",Object.assign({},E),r.createElement(Xt,{className:`${s}-checkbox`,checked:l,disabled:d||n.disabled}),L))},Zn=r.memo(Qn),er=["handleFilter","handleClear","checkedKeys"],vt=e=>{if(!e)return null;const t={pageSize:10,simple:!0,showSizeChanger:!1,showLessItems:!1};return typeof e=="object"?Object.assign(Object.assign({},t),e):t},tr=(e,t)=>{const{prefixCls:a,filteredRenderItems:n,selectedKeys:l,disabled:d,showRemove:s,pagination:c,onScroll:i,onItemSelect:u,onItemRemove:h}=e,[y,b]=r.useState(1);r.useEffect(()=>{const g=vt(c);if(g){const _=Math.ceil(n.length/g.pageSize);b(Math.min(y,_))}},[n,c]);const E=g=>{u==null||u(g.key,!l.includes(g.key))},L=g=>{h==null||h([g.key])},R=g=>{b(g)},A=r.useMemo(()=>{const g=vt(c);return g?n.slice((y-1)*g.pageSize,y*g.pageSize):n},[y,n,c]);r.useImperativeHandle(t,()=>({items:A}));const $=vt(c),M=$?r.createElement(On,{size:"small",disabled:d,simple:$.simple,pageSize:$.pageSize,showLessItems:$.showLessItems,showSizeChanger:$.showSizeChanger,className:`${a}-pagination`,total:n.length,current:y,onChange:R}):null,S=je(`${a}-content`,{[`${a}-content-show-remove`]:s});return r.createElement(r.Fragment,null,r.createElement("ul",{className:S,onScroll:i},(A||[]).map(g=>{let{renderedEl:_,renderedText:Q,item:N}=g;return r.createElement(Zn,{key:N.key,item:N,renderedText:Q,renderedEl:_,prefixCls:a,showRemove:s,onClick:E,onRemove:L,checked:l.includes(N.key),disabled:d||N.disabled})})),M)},nr=r.forwardRef(tr),rr=e=>{const{placeholder:t="",value:a,prefixCls:n,disabled:l,onChange:d,handleClear:s}=e,c=r.useCallback(i=>{d==null||d(i),i.target.value===""&&(s==null||s())},[d]);return r.createElement(zt,{placeholder:t,className:n,value:a,onChange:c,disabled:l,allowClear:!0,prefix:r.createElement(Nn,null)})},qt=rr,ar=()=>null;function lr(e){return!!(e&&!mn(e)&&Object.prototype.toString.call(e)==="[object Object]")}function nt(e){return e.filter(t=>!t.disabled).map(t=>t.key)}const or=e=>{const{prefixCls:t,dataSource:a=[],titleText:n="",checkedKeys:l,disabled:d,showSearch:s=!1,style:c,searchPlaceholder:i,notFoundContent:u,selectAll:h,selectCurrent:y,selectInvert:b,removeAll:E,removeCurrent:L,showSelectAll:R=!0,showRemove:A,pagination:$,direction:M,itemsUnit:S,itemUnit:g,selectAllLabel:_,footer:Q,renderList:N,onItemSelectAll:D,onItemRemove:K,handleFilter:ne,handleClear:P,filterOption:q,render:oe=ar}=e,[B,se]=r.useState(""),F=r.useRef({}),pe=p=>{se(p.target.value),ne(p)},U=()=>{se(""),P()},Z=(p,v)=>q?q(B,v):p.includes(B),ie=p=>{let v=N?N(p):null;const w=!!v;return w||(v=W.createElement(nr,Object.assign({ref:F},p))),{customize:w,bodyContent:v}},X=p=>{const v=oe(p),w=lr(v);return{item:p,renderedEl:w?v.label:v,renderedText:w?v.value:v}},fe=r.useMemo(()=>Array.isArray(u)?u[M==="left"?0:1]:u,[u,M]),[H,re]=r.useMemo(()=>{const p=[],v=[];return a.forEach(w=>{const ee=X(w);B&&!Z(ee.renderedText,w)||(p.push(w),v.push(ee))}),[p,v]},[a,B]),ve=r.useMemo(()=>{if(l.length===0)return"none";const p=ft(l);return H.every(v=>p.has(v.key)||!!v.disabled)?"all":"part"},[l,H]),Ee=r.useMemo(()=>{const p=s?W.createElement("div",{className:`${t}-body-search-wrapper`},W.createElement(qt,{prefixCls:`${t}-search`,onChange:pe,handleClear:U,placeholder:i,value:B,disabled:d})):null,{customize:v,bodyContent:w}=ie(Object.assign(Object.assign({},Pt(e,er)),{filteredItems:H,filteredRenderItems:re,selectedKeys:l}));let ee;return v?ee=W.createElement("div",{className:`${t}-body-customize-wrapper`},w):ee=H.length?w:W.createElement("div",{className:`${t}-body-not-found`},fe),W.createElement("div",{className:je(s?`${t}-body ${t}-body-with-search`:`${t}-body`)},p,ee)},[s,t,i,B,d,l,H,re,fe]),he=W.createElement(Xt,{disabled:a.length===0||d,checked:ve==="all",indeterminate:ve==="part",className:`${t}-checkbox`,onChange:()=>{D==null||D(H.filter(p=>!p.disabled).map(p=>{let{key:v}=p;return v}),ve!=="all")}}),me=(p,v)=>{if(_)return typeof _=="function"?_({selectedCount:p,totalCount:v}):_;const w=v>1?S:g;return W.createElement(W.Fragment,null,(p>0?`${p}/`:"")+v," ",w)},ye=Q&&(Q.length<2?Q(e):Q(e,{direction:M})),be=je(t,{[`${t}-with-pagination`]:!!$,[`${t}-with-footer`]:!!ye}),o=ye?W.createElement("div",{className:`${t}-footer`},ye):null,f=!A&&!$&&he;let x;A?x=[$?{key:"removeCurrent",label:L,onClick(){var p;const v=nt((((p=F.current)===null||p===void 0?void 0:p.items)||[]).map(w=>w.item));K==null||K(v)}}:null,{key:"removeAll",label:E,onClick(){K==null||K(nt(H))}}].filter(Boolean):x=[{key:"selectAll",label:h,onClick(){const p=nt(H);D==null||D(p,p.length!==l.length)}},$?{key:"selectCurrent",label:y,onClick(){var p;const v=((p=F.current)===null||p===void 0?void 0:p.items)||[];D==null||D(nt(v.map(w=>w.item)),!0)}}:null,{key:"selectInvert",label:b,onClick(){var p;const v=nt($?(((p=F.current)===null||p===void 0?void 0:p.items)||[]).map(ce=>ce.item):H),w=new Set(l),ee=[],ae=[];v.forEach(ce=>{w.has(ce)?ae.push(ce):ee.push(ce)}),D==null||D(ee,!0),D==null||D(ae,!1)}}];const G=W.createElement(fn,{className:`${t}-header-dropdown`,menu:{items:x},disabled:d},W.createElement(hn,null));return W.createElement("div",{className:be,style:c},W.createElement("div",{className:`${t}-header`},R?W.createElement(W.Fragment,null,f,G):null,W.createElement("span",{className:`${t}-header-selected`},me(l.length,H.length)),W.createElement("span",{className:`${t}-header-title`},n)),Ee,o)},bt=or,sr=e=>{const{disabled:t,moveToLeft:a,moveToRight:n,leftArrowText:l="",rightArrowText:d="",leftActive:s,rightActive:c,className:i,style:u,direction:h,oneWay:y}=e;return r.createElement("div",{className:i,style:u},r.createElement(kt,{type:"primary",size:"small",disabled:t||!c,onClick:n,icon:h!=="rtl"?r.createElement($t,null):r.createElement(_t,null)},d),!y&&r.createElement(kt,{type:"primary",size:"small",disabled:t||!s,onClick:a,icon:h!=="rtl"?r.createElement(_t,null):r.createElement($t,null)},l))},Yt=sr,ir=e=>{const{antCls:t,componentCls:a,listHeight:n,controlHeightLG:l,marginXXS:d,margin:s}=e,c=`${t}-table`,i=`${t}-input`;return{[`${a}-customize-list`]:{[`${a}-list`]:{flex:"1 1 50%",width:"auto",height:"auto",minHeight:n},[`${c}-wrapper`]:{[`${c}-small`]:{border:0,borderRadius:0,[`${c}-selection-column`]:{width:l,minWidth:l}},[`${c}-pagination${c}-pagination`]:{margin:`${s}px 0 ${d}px`}},[`${i}[disabled]`]:{backgroundColor:"transparent"}}}},Lt=(e,t)=>{const{componentCls:a,colorBorder:n}=e;return{[`${a}-list`]:{borderColor:t,"&-search:not([disabled])":{borderColor:n}}}},cr=e=>{const{componentCls:t}=e;return{[`${t}-status-error`]:Object.assign({},Lt(e,e.colorError)),[`${t}-status-warning`]:Object.assign({},Lt(e,e.colorWarning))}},dr=e=>{const{componentCls:t,colorBorder:a,colorSplit:n,lineWidth:l,transferItemHeight:d,transferHeaderHeight:s,transferHeaderVerticalPadding:c,transferItemPaddingVertical:i,controlItemBgActive:u,controlItemBgActiveHover:h,colorTextDisabled:y,listHeight:b,listWidth:E,listWidthLG:L,fontSizeIcon:R,marginXS:A,paddingSM:$,lineType:M,iconCls:S,motionDurationSlow:g}=e;return{display:"flex",flexDirection:"column",width:E,height:b,border:`${l}px ${M} ${a}`,borderRadius:e.borderRadiusLG,"&-with-pagination":{width:L,height:"auto"},"&-search":{[`${S}-search`]:{color:y}},"&-header":{display:"flex",flex:"none",alignItems:"center",height:s,padding:`${c-l}px ${$}px ${c}px`,color:e.colorText,background:e.colorBgContainer,borderBottom:`${l}px ${M} ${n}`,borderRadius:`${e.borderRadiusLG}px ${e.borderRadiusLG}px 0 0`,"> *:not(:last-child)":{marginInlineEnd:4},"> *":{flex:"none"},"&-title":Object.assign(Object.assign({},Tt),{flex:"auto",textAlign:"end"}),"&-dropdown":Object.assign(Object.assign({},pn()),{fontSize:R,transform:"translateY(10%)",cursor:"pointer","&[disabled]":{cursor:"not-allowed"}})},"&-body":{display:"flex",flex:"auto",flexDirection:"column",overflow:"hidden",fontSize:e.fontSize,"&-search-wrapper":{position:"relative",flex:"none",padding:$}},"&-content":{flex:"auto",margin:0,padding:0,overflow:"auto",listStyle:"none","&-item":{display:"flex",alignItems:"center",minHeight:d,padding:`${i}px ${$}px`,transition:`all ${g}`,"> *:not(:last-child)":{marginInlineEnd:A},"> *":{flex:"none"},"&-text":Object.assign(Object.assign({},Tt),{flex:"auto"}),"&-remove":{position:"relative",color:a,cursor:"pointer",transition:`all ${g}`,"&:hover":{color:e.colorLinkHover},"&::after":{position:"absolute",insert:`-${i}px -50%`,content:'""'}},[`&:not(${t}-list-content-item-disabled)`]:{"&:hover":{backgroundColor:e.controlItemBgHover,cursor:"pointer"},[`&${t}-list-content-item-checked:hover`]:{backgroundColor:h}},"&-checked":{backgroundColor:u},"&-disabled":{color:y,cursor:"not-allowed"}},[`&-show-remove ${t}-list-content-item:not(${t}-list-content-item-disabled):hover`]:{background:"transparent",cursor:"default"}},"&-pagination":{padding:`${e.paddingXS}px 0`,textAlign:"end",borderTop:`${l}px ${M} ${n}`},"&-body-not-found":{flex:"none",width:"100%",margin:"auto 0",color:y,textAlign:"center"},"&-footer":{borderTop:`${l}px ${M} ${n}`}}},ur=e=>{const{antCls:t,iconCls:a,componentCls:n,transferHeaderHeight:l,marginXS:d,marginXXS:s,fontSizeIcon:c,fontSize:i,lineHeight:u}=e;return{[n]:Object.assign(Object.assign({},gn(e)),{position:"relative",display:"flex",alignItems:"stretch",[`${n}-disabled`]:{[`${n}-list`]:{background:e.colorBgContainerDisabled}},[`${n}-list`]:dr(e),[`${n}-operation`]:{display:"flex",flex:"none",flexDirection:"column",alignSelf:"center",margin:`0 ${d}px`,verticalAlign:"middle",[`${t}-btn`]:{display:"block","&:first-child":{marginBottom:s},[a]:{fontSize:c}}},[`${t}-empty-image`]:{maxHeight:l/2-Math.round(i*u)}})}},fr=e=>{const{componentCls:t}=e;return{[`${t}-rtl`]:{direction:"rtl"}}},hr=Mt("Transfer",e=>{const{fontSize:t,lineHeight:a,lineWidth:n,controlHeightLG:l,controlHeight:d}=e,s=Math.round(t*a),c=l,i=d,u=xt(e,{transferItemHeight:i,transferHeaderHeight:c,transferHeaderVerticalPadding:Math.ceil((c-n-s)/2),transferItemPaddingVertical:(i-s)/2});return[ur(u),ir(u),cr(u),fr(u)]},{listWidth:180,listHeight:200,listWidthLG:250}),mt=e=>{const{dataSource:t=[],targetKeys:a=[],selectedKeys:n=[],selectAllLabels:l=[],operations:d=[],style:s={},listStyle:c={},locale:i={},titles:u,disabled:h,showSearch:y=!1,operationStyle:b,showSelectAll:E,oneWay:L,pagination:R,status:A,prefixCls:$,className:M,rootClassName:S,filterOption:g,render:_,footer:Q,children:N,rowKey:D,onScroll:K,onChange:ne,onSearch:P,onSelectChange:q}=e,{getPrefixCls:oe,renderEmpty:B,direction:se}=r.useContext(Ht),F=oe("transfer",$),[pe,U]=hr(F),[Z,ie]=r.useState(()=>n.filter(m=>!a.includes(m))),[X,fe]=r.useState(()=>n.filter(m=>a.includes(m)));r.useEffect(()=>{e.selectedKeys&&(ie(()=>n.filter(m=>!a.includes(m))),fe(()=>n.filter(m=>a.includes(m))))},[e.selectedKeys,e.targetKeys]);const H=r.useCallback((m,C)=>{m==="left"?ie(Se=>typeof C=="function"?C(Se||[]):C):fe(Se=>typeof C=="function"?C(Se||[]):C)},[Z,X]),re=r.useCallback((m,C)=>{m==="left"?q==null||q(C,X):q==null||q(Z,C)},[Z,X]),ve=m=>{var C;return(C=u??m.titles)!==null&&C!==void 0?C:[]},Ee=m=>{K==null||K("left",m)},he=m=>{K==null||K("right",m)},me=m=>{const C=m==="right"?Z:X,Se=Xn(t),j=C.filter(Je=>!Se.has(Je)),ue=ft(j),Ge=m==="right"?j.concat(a):a.filter(Je=>!ue.has(Je)),Ve=m==="right"?"left":"right";H(Ve,[]),re(Ve,[]),ne==null||ne(Ge,m,j)},ye=()=>{me("left")},be=()=>{me("right")},o=(m,C,Se)=>{H(m,j=>{let ue=[];if(Se)ue=Array.from(new Set([].concat($e(j),$e(C))));else{const Ge=ft(C);ue=j.filter(Ve=>!Ge.has(Ve))}return re(m,ue),ue})},f=(m,C)=>{o("left",m,C)},x=(m,C)=>{o("right",m,C)},G=m=>P==null?void 0:P("left",m.target.value),p=m=>P==null?void 0:P("right",m.target.value),v=()=>P==null?void 0:P("left",""),w=()=>P==null?void 0:P("right",""),ee=(m,C,Se)=>{const j=$e(m==="left"?Z:X),ue=j.indexOf(C);ue>-1&&j.splice(ue,1),Se&&j.push(C),re(m,j),e.selectedKeys||H(m,j)},ae=(m,C)=>{ee("left",m,C)},ce=(m,C)=>{ee("right",m,C)},Ke=m=>{H("right",[]),ne==null||ne(a.filter(C=>!m.includes(C)),"left",$e(m))},de=m=>typeof c=="function"?c({direction:m}):c||{},[Ne,I]=r.useMemo(()=>{const m=[],C=new Array(a.length),Se=ft(a);return t.forEach(j=>{D&&(j=Object.assign(Object.assign({},j),{key:D(j)})),Se.has(j.key)?C[Se.get(j.key)]=j:m.push(j)}),[m,C]},[t,a,D]),te=r.useContext(Wt),{hasFeedback:Oe,status:ke}=te,We=m=>Object.assign(Object.assign(Object.assign({},m),{notFoundContent:(B==null?void 0:B("Transfer"))||W.createElement(Gt,{componentName:"Transfer"})}),i),Be=Ut(ke,A),Le=!N&&R,Ue=X.length>0,Ce=Z.length>0,De=je(F,{[`${F}-disabled`]:h,[`${F}-customize-list`]:!!N,[`${F}-rtl`]:se==="rtl"},Bt(F,Be,Oe),M,S,U),[at]=jt("Transfer",Rt.Transfer),Xe=We(at),[lt,He]=ve(Xe);return pe(W.createElement("div",{className:De,style:s},W.createElement(bt,Object.assign({prefixCls:`${F}-list`,titleText:lt,dataSource:Ne,filterOption:g,style:de("left"),checkedKeys:Z,handleFilter:G,handleClear:v,onItemSelect:ae,onItemSelectAll:f,render:_,showSearch:y,renderList:N,footer:Q,onScroll:Ee,disabled:h,direction:se==="rtl"?"right":"left",showSelectAll:E,selectAllLabel:l[0],pagination:Le},Xe)),W.createElement(Yt,{className:`${F}-operation`,rightActive:Ce,rightArrowText:d[0],moveToRight:be,leftActive:Ue,leftArrowText:d[1],moveToLeft:ye,style:b,disabled:h,direction:se,oneWay:L}),W.createElement(bt,Object.assign({prefixCls:`${F}-list`,titleText:He,dataSource:I,filterOption:g,style:de("right"),checkedKeys:X,handleFilter:p,handleClear:w,onItemSelect:ce,onItemSelectAll:x,onItemRemove:Ke,render:_,showSearch:y,renderList:N,footer:Q,onScroll:he,disabled:h,direction:se==="rtl"?"left":"right",showSelectAll:E,selectAllLabel:l[1],showRemove:L,pagination:Le},Xe))))};mt.List=bt;mt.Search=qt;mt.Operation=Yt;const mr=mt;var Jt=r.createContext(null),Qt=r.createContext(null);function gr(e){return Array.isArray(e)?e:e!==void 0?[e]:[]}function pr(e){var t=e||{},a=t.label,n=t.value,l=t.children,d=n||"value";return{_title:a?[a]:["title","label"],value:d,key:d,children:l||"children"}}function Ct(e){return!e||e.disabled||e.disableCheckbox||e.checkable===!1}function vr(e,t){var a=[];function n(l){l.forEach(function(d){var s=d[t.children];s&&(a.push(d[t.value]),n(s))})}return n(e),a}function Dt(e){return e==null}var yr={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},br=function(t,a){var n=Ln(),l=n.prefixCls,d=n.multiple,s=n.searchValue,c=n.toggleOpen,i=n.open,u=n.notFoundContent,h=r.useContext(Qt),y=h.virtual,b=h.listHeight,E=h.listItemHeight,L=h.treeData,R=h.fieldNames,A=h.onSelect,$=h.dropdownMatchSelectWidth,M=h.treeExpandAction,S=r.useContext(Jt),g=S.checkable,_=S.checkedKeys,Q=S.halfCheckedKeys,N=S.treeExpandedKeys,D=S.treeDefaultExpandAll,K=S.treeDefaultExpandedKeys,ne=S.onTreeExpand,P=S.treeIcon,q=S.showTreeIcon,oe=S.switcherIcon,B=S.treeLine,se=S.treeNodeFilterProp,F=S.loadData,pe=S.treeLoadedKeys,U=S.treeMotion,Z=S.onTreeLoad,ie=S.keyEntities,X=r.useRef(),fe=vn(function(){return L},[i,L],function(I,te){return te[0]&&I[1]!==te[1]}),H=r.useMemo(function(){return g?{checked:_,halfChecked:Q}:null},[g,_,Q]);r.useEffect(function(){if(i&&!d&&_.length){var I;(I=X.current)===null||I===void 0||I.scrollTo({key:_[0]})}},[i]);var re=String(s).toLowerCase(),ve=function(te){return re?String(te[se]).toLowerCase().includes(re):!1},Ee=r.useState(K),he=Me(Ee,2),me=he[0],ye=he[1],be=r.useState(null),o=Me(be,2),f=o[0],x=o[1],G=r.useMemo(function(){return N?$e(N):s?f:me},[me,f,N,s]);r.useEffect(function(){s&&x(vr(L,R))},[s]);var p=function(te){ye(te),x(te),ne&&ne(te)},v=function(te){te.preventDefault()},w=function(te,Oe){var ke=Oe.node;g&&Ct(ke)||(A(ke.key,{selected:!_.includes(ke.key)}),d||c(!1))},ee=r.useState(null),ae=Me(ee,2),ce=ae[0],Ke=ae[1],de=ie[ce];if(r.useImperativeHandle(a,function(){var I;return{scrollTo:(I=X.current)===null||I===void 0?void 0:I.scrollTo,onKeyDown:function(Oe){var ke,We=Oe.which;switch(We){case Pe.UP:case Pe.DOWN:case Pe.LEFT:case Pe.RIGHT:(ke=X.current)===null||ke===void 0||ke.onKeyDown(Oe);break;case Pe.ENTER:{if(de){var Be=(de==null?void 0:de.node)||{},Le=Be.selectable,Ue=Be.value;Le!==!1&&w(null,{node:{key:ce},selected:!_.includes(Ue)})}break}case Pe.ESC:c(!1)}},onKeyUp:function(){}}}),fe.length===0)return r.createElement("div",{role:"listbox",className:"".concat(l,"-empty"),onMouseDown:v},u);var Ne={fieldNames:R};return pe&&(Ne.loadedKeys=pe),G&&(Ne.expandedKeys=G),r.createElement("div",{onMouseDown:v},de&&i&&r.createElement("span",{style:yr,"aria-live":"assertive"},de.node.value),r.createElement(Dn,Vt({ref:X,focusable:!1,prefixCls:"".concat(l,"-tree"),treeData:fe,height:b,itemHeight:E,virtual:y!==!1&&$!==!1,multiple:d,icon:P,showIcon:q,switcherIcon:oe,showLine:B,loadData:s?null:F,motion:U,activeKey:ce,checkable:g,checkStrictly:!0,checkedKeys:H,selectedKeys:g?[]:_,defaultExpandAll:D},Ne,{onActiveChange:Ke,onSelect:w,onCheck:w,onExpand:p,onLoad:Z,filterTreeNode:ve,expandAction:M})))},Zt=r.forwardRef(br);Zt.displayName="OptionList";var wt=function(){return null},en="SHOW_ALL",Et="SHOW_PARENT",gt="SHOW_CHILD";function Kt(e,t,a,n){var l=new Set(e);return t===gt?e.filter(function(d){var s=a[d];return!(s&&s.children&&s.children.some(function(c){var i=c.node;return l.has(i[n.value])})&&s.children.every(function(c){var i=c.node;return Ct(i)||l.has(i[n.value])}))}):t===Et?e.filter(function(d){var s=a[d],c=s?s.parent:null;return!(c&&!Ct(c.node)&&l.has(c.key))}):e}var Cr=["children","value"];function tn(e){return yn(e).map(function(t){if(!r.isValidElement(t)||!t.type)return null;var a=t,n=a.key,l=a.props,d=l.children,s=l.value,c=Ft(l,Cr),i=we({key:n,value:s},c),u=tn(d);return u.length&&(i.children=u),i}).filter(function(t){return t})}function St(e){if(!e)return e;var t=we({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return ht(!1,"New `rc-tree-select` not support return node instance as argument anymore. Please consider to remove `props` access."),t}}),t}function Sr(e,t,a,n,l,d){var s=null,c=null;function i(){function u(h){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"0",b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return h.map(function(E,L){var R="".concat(y,"-").concat(L),A=E[d.value],$=a.includes(A),M=u(E[d.children]||[],R,$),S=r.createElement(wt,E,M.map(function(_){return _.node}));if(t===A&&(s=S),$){var g={pos:R,node:S,children:M};return b||c.push(g),g}return null}).filter(function(E){return E})}c||(c=[],u(n),c.sort(function(h,y){var b=h.node.props.value,E=y.node.props.value,L=a.indexOf(b),R=a.indexOf(E);return L-R}))}Object.defineProperty(e,"triggerNode",{get:function(){return ht(!1,"`triggerNode` is deprecated. Please consider decoupling data with node."),i(),s}}),Object.defineProperty(e,"allCheckedNodes",{get:function(){return ht(!1,"`allCheckedNodes` is deprecated. Please consider decoupling data with node."),i(),l?c:c.map(function(h){var y=h.node;return y})}})}function xr(e,t){var a=t.id,n=t.pId,l=t.rootPId,d={},s=[],c=e.map(function(i){var u=we({},i),h=u[a];return d[h]=u,u.key=u.key||h,u});return c.forEach(function(i){var u=i[n],h=d[u];h&&(h.children=h.children||[],h.children.push(i)),(u===l||!h&&l===null)&&s.push(i)}),s}function wr(e,t,a){return r.useMemo(function(){return e?a?xr(e,we({id:"id",pId:"pId",rootPId:null},a!==!0?a:{})):e:tn(t)},[t,a,e])}const Er=function(e){var t=r.useRef({valueLabels:new Map});return r.useMemo(function(){var a=t.current.valueLabels,n=new Map,l=e.map(function(d){var s,c=d.value,i=(s=d.label)!==null&&s!==void 0?s:a.get(c);return n.set(c,i),we(we({},d),{},{label:i})});return t.current.valueLabels=n,[l]},[e])};function At(e){var t=r.useRef();t.current=e;var a=r.useCallback(function(){return t.current.apply(t,arguments)},[]);return a}const Ir=function(e,t){return r.useMemo(function(){var a=Kn(e,{fieldNames:t,initWrapper:function(l){return we(we({},l),{},{valueEntities:new Map})},processEntity:function(l,d){var s=l.node[t.value];d.valueEntities.set(s,l)}});return a},[e,t])},kr=function(e,t,a,n){return r.useMemo(function(){var l=e.map(function(i){var u=i.value;return u}),d=t.map(function(i){var u=i.value;return u}),s=l.filter(function(i){return!n[i]});if(a){var c=yt(l,!0,n);l=c.checkedKeys,d=c.halfCheckedKeys}return[Array.from(new Set([].concat($e(s),$e(l)))),d]},[e,t,a,n])},$r=function(e,t,a){var n=a.treeNodeFilterProp,l=a.filterTreeNode,d=a.fieldNames,s=d.children;return r.useMemo(function(){if(!t||l===!1)return e;var c;if(typeof l=="function")c=l;else{var i=t.toUpperCase();c=function(y,b){var E=b[n];return String(E).toUpperCase().includes(i)}}function u(h){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return h.map(function(b){var E=b[s],L=y||c(t,St(b)),R=u(E||[],L);return L||R.length?we(we({},b),{},bn({isLeaf:void 0},s,R)):null}).filter(function(b){return b})}return u(e)},[e,t,s,n,l])};var _r=["id","prefixCls","value","defaultValue","onChange","onSelect","onDeselect","searchValue","inputValue","onSearch","autoClearSearchValue","filterTreeNode","treeNodeFilterProp","showCheckedStrategy","treeNodeLabelProp","multiple","treeCheckable","treeCheckStrictly","labelInValue","fieldNames","treeDataSimpleMode","treeData","children","loadData","treeLoadedKeys","onTreeLoad","treeDefaultExpandAll","treeExpandedKeys","treeDefaultExpandedKeys","onTreeExpand","treeExpandAction","virtual","listHeight","listItemHeight","onDropdownVisibleChange","dropdownMatchSelectWidth","treeLine","treeIcon","showTreeIcon","switcherIcon","treeMotion"];function Tr(e){return!e||Cn(e)!=="object"}var Nr=r.forwardRef(function(e,t){var a=e.id,n=e.prefixCls,l=n===void 0?"rc-tree-select":n,d=e.value,s=e.defaultValue,c=e.onChange,i=e.onSelect,u=e.onDeselect,h=e.searchValue,y=e.inputValue,b=e.onSearch,E=e.autoClearSearchValue,L=E===void 0?!0:E,R=e.filterTreeNode,A=e.treeNodeFilterProp,$=A===void 0?"value":A,M=e.showCheckedStrategy,S=M===void 0?gt:M,g=e.treeNodeLabelProp,_=e.multiple,Q=e.treeCheckable,N=e.treeCheckStrictly,D=e.labelInValue,K=e.fieldNames,ne=e.treeDataSimpleMode,P=e.treeData,q=e.children,oe=e.loadData,B=e.treeLoadedKeys,se=e.onTreeLoad,F=e.treeDefaultExpandAll,pe=e.treeExpandedKeys,U=e.treeDefaultExpandedKeys,Z=e.onTreeExpand,ie=e.treeExpandAction,X=e.virtual,fe=e.listHeight,H=fe===void 0?200:fe,re=e.listItemHeight,ve=re===void 0?20:re,Ee=e.onDropdownVisibleChange,he=e.dropdownMatchSelectWidth,me=he===void 0?!0:he,ye=e.treeLine,be=e.treeIcon,o=e.showTreeIcon,f=e.switcherIcon,x=e.treeMotion,G=Ft(e,_r),p=An(a),v=Q&&!N,w=Q||N,ee=N||D,ae=w||_,ce=Nt(s,{value:d}),Ke=Me(ce,2),de=Ke[0],Ne=Ke[1],I=r.useMemo(function(){return pr(K)},[JSON.stringify(K)]),te=Nt("",{value:h!==void 0?h:y,postState:function(k){return k||""}}),Oe=Me(te,2),ke=Oe[0],We=Oe[1],Be=function(k){We(k),b==null||b(k)},Le=wr(P,q,ne),Ue=Ir(Le,I),Ce=Ue.keyEntities,De=Ue.valueEntities,at=r.useCallback(function(T){var k=[],O=[];return T.forEach(function(V){De.has(V)?O.push(V):k.push(V)}),{missingRawValues:k,existRawValues:O}},[De]),Xe=$r(Le,ke,{fieldNames:I,treeNodeFilterProp:$,filterTreeNode:R}),lt=r.useCallback(function(T){if(T){if(g)return T[g];for(var k=I._title,O=0;O<k.length;O+=1){var V=T[k[O]];if(V!==void 0)return V}}},[I,g]),He=r.useCallback(function(T){var k=gr(T);return k.map(function(O){return Tr(O)?{value:O}:O})},[]),m=r.useCallback(function(T){var k=He(T);return k.map(function(O){var V=O.label,Ie=O.value,le=O.halfChecked,z,Y=De.get(Ie);if(Y){var ge;V=(ge=V)!==null&&ge!==void 0?ge:lt(Y.node),z=Y.node.disabled}else if(V===void 0){var Ae=He(de).find(function(Qe){return Qe.value===Ie});V=Ae.label}return{label:V,value:Ie,halfChecked:le,disabled:z}})},[De,lt,He,de]),C=r.useMemo(function(){return He(de)},[He,de]),Se=r.useMemo(function(){var T=[],k=[];return C.forEach(function(O){O.halfChecked?k.push(O):T.push(O)}),[T,k]},[C]),j=Me(Se,2),ue=j[0],Ge=j[1],Ve=r.useMemo(function(){return ue.map(function(T){return T.value})},[ue]),Je=kr(ue,Ge,v,Ce),It=Me(Je,2),qe=It[0],ot=It[1],rn=r.useMemo(function(){var T=Kt(qe,S,Ce,I),k=T.map(function(le){var z,Y,ge;return(z=(Y=Ce[le])===null||Y===void 0||(ge=Y.node)===null||ge===void 0?void 0:ge[I.value])!==null&&z!==void 0?z:le}),O=k.map(function(le){var z=ue.find(function(Y){return Y.value===le});return{value:le,label:z==null?void 0:z.label}}),V=m(O),Ie=V[0];return!ae&&Ie&&Dt(Ie.value)&&Dt(Ie.label)?[]:V.map(function(le){var z;return we(we({},le),{},{label:(z=le.label)!==null&&z!==void 0?z:le.value})})},[I,ae,qe,ue,m,S,Ce]),an=Er(rn),ln=Me(an,1),on=ln[0],st=At(function(T,k,O){var V=m(T);if(Ne(V),L&&We(""),c){var Ie=T;if(v){var le=Kt(T,S,Ce,I);Ie=le.map(function(Te){var Re=De.get(Te);return Re?Re.node[I.value]:Te})}var z=k||{triggerValue:void 0,selected:void 0},Y=z.triggerValue,ge=z.selected,Ae=Ie;if(N){var Qe=Ge.filter(function(Te){return!Ie.includes(Te.value)});Ae=[].concat($e(Ae),$e(Qe))}var Ze=m(Ae),Fe={preValue:ue,triggerValue:Y},Ye=!0;(N||O==="selection"&&!ge)&&(Ye=!1),Sr(Fe,Y,T,Le,Ye,I),w?Fe.checked=ge:Fe.selected=ge;var it=ee?Ze:Ze.map(function(Te){return Te.value});c(ae?it:it[0],ee?null:Ze.map(function(Te){return Te.label}),Fe)}}),pt=r.useCallback(function(T,k){var O,V=k.selected,Ie=k.source,le=Ce[T],z=le==null?void 0:le.node,Y=(O=z==null?void 0:z[I.value])!==null&&O!==void 0?O:T;if(!ae)st([Y],{selected:!0,triggerValue:Y},"option");else{var ge=V?[].concat($e(Ve),[Y]):qe.filter(function(Re){return Re!==Y});if(v){var Ae=at(ge),Qe=Ae.missingRawValues,Ze=Ae.existRawValues,Fe=Ze.map(function(Re){return De.get(Re).key}),Ye;if(V){var it=yt(Fe,!0,Ce);Ye=it.checkedKeys}else{var Te=yt(Fe,{checked:!1,halfCheckedKeys:ot},Ce);Ye=Te.checkedKeys}ge=[].concat($e(Qe),$e(Ye.map(function(Re){return Ce[Re].node[I.value]})))}st(ge,{selected:V,triggerValue:Y},Ie||"option")}V||!ae?i==null||i(Y,St(z)):u==null||u(Y,St(z))},[at,De,Ce,I,ae,Ve,st,v,i,u,qe,ot]),sn=r.useCallback(function(T){if(Ee){var k={};Object.defineProperty(k,"documentClickClose",{get:function(){return ht(!1,"Second param of `onDropdownVisibleChange` has been removed."),!1}}),Ee(T,k)}},[Ee]),cn=At(function(T,k){var O=T.map(function(V){return V.value});if(k.type==="clear"){st(O,{},"selection");return}k.values.length&&pt(k.values[0].value,{selected:!1,source:"selection"})}),dn=r.useMemo(function(){return{virtual:X,dropdownMatchSelectWidth:me,listHeight:H,listItemHeight:ve,treeData:Xe,fieldNames:I,onSelect:pt,treeExpandAction:ie}},[X,me,H,ve,Xe,I,pt,ie]),un=r.useMemo(function(){return{checkable:w,loadData:oe,treeLoadedKeys:B,onTreeLoad:se,checkedKeys:qe,halfCheckedKeys:ot,treeDefaultExpandAll:F,treeExpandedKeys:pe,treeDefaultExpandedKeys:U,onTreeExpand:Z,treeIcon:be,treeMotion:x,showTreeIcon:o,switcherIcon:f,treeLine:ye,treeNodeFilterProp:$,keyEntities:Ce}},[w,oe,B,se,qe,ot,F,pe,U,Z,be,x,o,f,ye,$,Ce]);return r.createElement(Qt.Provider,{value:dn},r.createElement(Jt.Provider,{value:un},r.createElement(Rn,Vt({ref:t},G,{id:p,prefixCls:l,mode:ae?"multiple":void 0,displayValues:on,onDisplayValuesChange:cn,searchValue:ke,onSearch:Be,OptionList:Zt,emptyOptions:!Le.length,onDropdownVisibleChange:sn,dropdownMatchSelectWidth:me}))))}),rt=Nr;rt.TreeNode=wt;rt.SHOW_ALL=en;rt.SHOW_PARENT=Et;rt.SHOW_CHILD=gt;const Or=e=>{const{componentCls:t,treePrefixCls:a,colorBgElevated:n}=e,l=`.${a}`;return[{[`${t}-dropdown`]:[{padding:`${e.paddingXS}px ${e.paddingXS/2}px`},Pn(a,xt(e,{colorBgContainer:n})),{[l]:{borderRadius:0,"&-list-holder-inner":{alignItems:"stretch",[`${l}-treenode`]:{[`${l}-node-content-wrapper`]:{flex:"auto"}}}}},Mn(`${a}-checkbox`,e),{"&-rtl":{direction:"rtl",[`${l}-switcher${l}-switcher_close`]:{[`${l}-switcher-icon svg`]:{transform:"rotate(90deg)"}}}}]}]};function Lr(e,t){return Mt("TreeSelect",a=>{const n=xt(a,{treePrefixCls:t});return[Or(n)]})(e)}var Dr=globalThis&&globalThis.__rest||function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]]);return a};const Kr=(e,t)=>{var{prefixCls:a,size:n,disabled:l,bordered:d=!0,className:s,rootClassName:c,treeCheckable:i,multiple:u,listHeight:h=256,listItemHeight:y=26,placement:b,notFoundContent:E,switcherIcon:L,treeLine:R,getPopupContainer:A,popupClassName:$,dropdownClassName:M,treeIcon:S=!1,transitionName:g,choiceTransitionName:_="",status:Q,showArrow:N,treeExpandAction:D}=e,K=Dr(e,["prefixCls","size","disabled","bordered","className","rootClassName","treeCheckable","multiple","listHeight","listItemHeight","placement","notFoundContent","switcherIcon","treeLine","getPopupContainer","popupClassName","dropdownClassName","treeIcon","transitionName","choiceTransitionName","status","showArrow","treeExpandAction"]);const{getPopupContainer:ne,getPrefixCls:P,renderEmpty:q,direction:oe,virtual:B,dropdownMatchSelectWidth:se}=r.useContext(Ht),F=r.useContext(xn),pe=P(),U=P("select",a),Z=P("select-tree",a),ie=P("tree-select",a),{compactSize:X,compactItemClassnames:fe}=wn(U,oe),[H,re]=Hn(U),[ve]=Lr(ie,Z),Ee=je($||M,`${ie}-dropdown`,{[`${ie}-dropdown-rtl`]:oe==="rtl"},c,re),he=!!(i||u),me=N!==void 0?N:K.loading||!he,{status:ye,hasFeedback:be,isFormItemInput:o,feedbackIcon:f}=r.useContext(Wt),x=Ut(ye,Q),{suffixIcon:G,removeIcon:p,clearIcon:v}=Vn(Object.assign(Object.assign({},K),{multiple:he,showArrow:me,hasFeedback:be,feedbackIcon:f,prefixCls:U}));let w;E!==void 0?w=E:w=(q==null?void 0:q("Select"))||r.createElement(Gt,{componentName:"Select"});const ee=Pt(K,["suffixIcon","itemIcon","removeIcon","clearIcon","switcherIcon"]),ae=r.useMemo(()=>b!==void 0?b:oe==="rtl"?"bottomRight":"bottomLeft",[b,oe]),ce=X||n||F,Ke=r.useContext(En),de=l??Ke,Ne=je(!a&&ie,{[`${U}-lg`]:ce==="large",[`${U}-sm`]:ce==="small",[`${U}-rtl`]:oe==="rtl",[`${U}-borderless`]:!d,[`${U}-in-form-item`]:o},Bt(U,x,be),fe,s,c,re),I=r.createElement(rt,Object.assign({virtual:B,dropdownMatchSelectWidth:se,disabled:de},ee,{ref:t,prefixCls:U,className:Ne,listHeight:h,listItemHeight:y,treeCheckable:i&&r.createElement("span",{className:`${U}-tree-checkbox-inner`}),treeLine:!!R,inputIcon:G,multiple:u,placement:ae,removeIcon:p,clearIcon:v,switcherIcon:te=>Fn(Z,L,te,R),showTreeIcon:S,notFoundContent:w,getPopupContainer:A||ne,treeMotion:null,dropdownClassName:Ee,choiceTransitionName:Ot(pe,"",_),transitionName:Ot(pe,In(b),g),showArrow:be||N,treeExpandAction:D}));return H(ve(I))},Ar=r.forwardRef(Kr),ze=Ar,Rr=Sn(ze);ze.TreeNode=wt;ze.SHOW_ALL=en;ze.SHOW_PARENT=Et;ze.SHOW_CHILD=gt;ze._InternalPanelDoNotUseOrYouWillBeFired=Rr;const Pr=ze;var Mr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 476H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"line",theme:"outlined"};const Hr=Mr;var nn=function(t,a){return r.createElement(kn,we(we({},t),{},{ref:a,icon:Hr}))};nn.displayName="LineOutlined";const dt=r.forwardRef(nn),Vr="_container_b7wcc_1",Fr="_table_b7wcc_5",jr="_btn_add_b7wcc_15",zr="_btn_delete_all_disabled_b7wcc_24",Wr="_btn_delete_all_b7wcc_24",Br="_btn_action_b7wcc_26",Ur="_selected_count_b7wcc_46",Xr="_form_transfer_b7wcc_52",xe={container:Vr,table:Fr,btn_add:jr,btn_delete_all_disabled:zr,btn_delete_all:Wr,btn_action:Br,selected_count:Ur,form_transfer:Xr},Gr=(e,t,a,n)=>{};function ta(){const[e,t]=r.useState([]),[a,n]=r.useState([]),[l,d]=r.useState(!1),[s,c]=r.useState(0),[i,u]=r.useState([]),{loggedIn:h,handleLogout:y}=r.useContext($n),b=_n(),L={selectedRowKeys:i,onChange:o=>{u(o)}},R=i.length>0,A=r.useRef(null),$=r.useRef(null),{TextArea:M}=zt,[S,g]=r.useState(!1),[_]=tt.useForm(),[Q,N]=r.useState([]),D={labelCol:{span:4},wrapperCol:{span:20}};function K(){et.get("/api/v1/category/").then(o=>{o&&t(o.data.data)}).catch(o=>{o.response.status===404&&t({})})}function ne(){et.get("/api/v1/post/").then(o=>{o&&n(o.data.data.items)}).catch(o=>{console.log("aaaaa"),o.response.status===404&&n({})})}function P(){const o=[];return e.length>0&&e.forEach(f=>{if(f.childs){const x=[];f.childs.forEach(G=>{x.push({text:G.title,value:G.title})}),o.push({text:f.title,value:f.title,children:x})}else o.push({text:f.title,value:f.title})}),o}function q(o){if(o===0)return J(dt,{});let f="";return e.length>0&&e.forEach(x=>{x.id===o&&(f=x.title),x.childs&&x.childs.forEach(G=>{G.id===o&&(f=G.title)})}),f}function oe(){const o=[];return o.push({value:0,title:J(dt,{})}),e.length>0&&e.forEach(f=>{if(f.childs){const x=[];f.childs.forEach(G=>{x.push({value:G.id,title:G.title})}),o.push({value:f.id,title:f.title,children:x})}else o.push({value:f.id,title:f.title})}),o}function B(o){let f={title:"",parent_id:"",posts:[]};return e.length>0&&e.forEach(x=>{x.id==o&&(f=x),x.childs&&x.childs.forEach(G=>{G.id==o&&(f=G)})}),f}function se(){const o=[];return e.length>0&&e.forEach(f=>{o.push({key:f.id,id:f.id,title:f.title,parent:q(f.parent_id),posts:f.posts.length>0?f.posts.join(", "):J(dt,{})}),f.childs&&f.childs.forEach(x=>{o.push({key:x.id,id:x.id,title:x.title,parent:q(x.parent_id),posts:x.posts.length>0?x.posts.join(", "):J(dt,{})})})}),o}function F(){const o=[];return a.length>0&&a.forEach(f=>{o.push({key:f.id,title:f.title})}),o}const pe=[{title:"ID",dataIndex:"id",defaultSortOrder:"descend",sorter:(o,f)=>o.id-f.id,width:"5%"},{title:"Danh mục",dataIndex:"title",defaultSortOrder:"descend",sorter:(o,f)=>o.title.localeCompare(f.title),filters:P(),filterMode:"tree",filterSearch:!0,onFilter:(o,f)=>f.title.includes(o),width:"20%",className:xe.header_title},{title:"Danh mục cha",dataIndex:"parent",width:"20%",className:xe.header_title},{title:"Bài viết",dataIndex:"posts",width:"40%",className:xe.header_title},{title:J(jn,{onClick:()=>Z(),className:xe.btn_add}),dataIndex:"",key:"x",render:o=>ct("span",{children:[J(Un,{onClick:()=>Ee(o.key),className:xe.btn_action,title:"xem bài viết thuộc danh mục"}),J(zn,{onClick:()=>re(o.key),className:xe.btn_action,title:"sửa danh mục"}),J(ut,{onClick:()=>fe(o.key),className:xe.btn_action,title:"xóa danh mục"})]})}],U=se();r.useEffect(()=>{K(),ne()},[l]),r.useEffect(()=>{Tn(()=>{d(!0)})},[]);function Z(){he()}function ie(o){o.posts||(o.posts=[]),h?et.post("/api/v1/category/",{title:o.title,parent_id:o.parent_id,posts:o.posts}).then(f=>{K(),_e.success("Thêm danh mục thành công"),g(!1),A.current.resetFields()}).catch(f=>{f.response.status===403?(g(!1),A.current.resetFields(),_e.error("Bạn không có quyền thêm danh mục")):f.response.status===400&&_e.error("Danh mục đã tồn tại")}):(_e.error("Vui lòng đăng nhập để thực hiện hành động này"),g(!1))}function X(o){et.delete(`/api/v1/category/${o}/`).then(f=>{K(),_e.success(`Xóa danh mục ${o} thành công`)}).catch(f=>{f.response.status===403&&_e.error(`Bạn không có quyền xóa danh mục ${o}`)})}function fe(o){h?X(o):(_e.error("Vui lòng đăng nhập để thực hiện hành động này"),g(!1))}function H(){i.length>0&&i.forEach(o=>X(o))}function re(o){c(o),he()}function ve(o){o.posts||(o.posts=[]),h?et.put(`/api/v1/category/${s}/`,{title:o.title,parent_id:o.parent_id,posts:o.posts}).then(f=>{K(),_e.success("Sửa  danh mục thành công"),g(!1),A.current.resetFields()}).catch(f=>{f.response.status===403?(g(!1),A.current.resetFields(),_e.error("Bạn không có quyền sửa danh mục")):f.response.status===400&&_e.error("Danh mục đã tồn tại")}):(_e.error("Vui lòng đăng nhập để thực hiện hành động này"),g(!1))}function Ee(o){b(`/app/category/${o}`)}const he=()=>{g(!0)},me=()=>{_.submit()},ye=()=>{g(!1),c(0),A.current.resetFields()},be=o=>{N(o)};return r.useEffect(()=>{N(B(s).posts),_.setFieldsValue({title:B(s).title,parent_id:B(s).parent_id,posts:B(s).posts})},[s]),ct("div",{className:xe.container,children:[J(Wn,{rowSelection:L,columns:pe,dataSource:U,onChange:Gr,className:xe.table,paginations:!1}),ct("div",{style:{marginBottom:16},className:xe.selected_count,children:[J("span",{children:i.length>0?J(ut,{className:xe.btn_delete_all,title:"Xóa danh mục đã chọn",onClick:()=>H()}):J(ut,{className:xe.btn_delete_all_disabled})}),J("span",{style:{marginLeft:8},children:R?`Đã chọn ${i.length} danh mục`:""})]}),J(Bn,{title:s==0?"Thêm danh mục mới":`Sửa danh mục ${s}`,open:S,onOk:me,onCancel:ye,width:"70%",className:xe.modal,ref:$,children:ct(tt,{form:_,onFinish:s==0?ie:ve,...D,ref:A,children:[J(tt.Item,{label:"Tên",name:"title",rules:[{required:!0,message:"Vui lòng nhập trường này! "}],children:J(M,{placeholder:"Tên danh mục...",autoSize:!0})}),J(tt.Item,{label:" Danh mục cha",name:"parent_id",rules:[{required:!0,message:"Vui lòng nhập trường này! "}],children:J(Pr,{placeholder:"Chọn danh mục cha",treeLine:"true",style:{width:300},treeData:oe()})}),J(tt.Item,{label:"Bài viết",name:"posts",style:{width:"100%"},children:J(mr,{dataSource:F(),showSearch:!0,targetKeys:Q,onChange:be,render:o=>o.title,className:xe.form_transfer})})]})})]})}export{ta as default};
